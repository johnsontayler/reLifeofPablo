<html>
	<head>
		<title>My first three.js app</title>
		<link rel="stylesheet" type="text/css" href="./css/style.css">
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<div id="overlay">
			<div>
				<button id="startButton">Click to Resurrect</button>
				<p>THE LIFE OF PABLO</p>
			</div>
		</div>
		<script src="js/three.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script>
			var changeButtonText = function () {
				var text = ["Click to Relive", "Click to Rejoice", "Click to Reincarnate", "Click to Recreate", "Click to Resurrect"];

				const startButtonText = document.getElementById("startButton");

				let i = 0;
				setInterval(function() {
							if (startButtonText) {
								startButtonText.innerText = text[i];
								i = i + 1;
								if (i == text.length) {
									i =  0;
								}
							}
				}, 1500);
			};

			var startButton = document.getElementById( 'startButton' );
			startButton.addEventListener( 'click', function () {
				var overlay = document.getElementById( 'overlay' );
				overlay.remove();
			});

			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
			camera.position.z = 20;

			var geometry = new THREE.BoxGeometry( 10, 1, 15 );
			var cubeMaterials = 
			[
				new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe: true, side: THREE.DoubleSide } ), // RIGHT SIDE
				new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe: true, side: THREE.DoubleSide } ), // LEFT SIDE
				new THREE.MeshPhongMaterial( { map: new THREE.TextureLoader( ).load( 'img/2.png' ), side: THREE.FrontSide } ), // TOP SIDE
				new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe: true, side: THREE.DoubleSide } ), // BOTTOM SIDE
				new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe: true, side: THREE.DoubleSide } ), // FRONT SIDE
				new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe: true, side: THREE.DoubleSide } ), // BACK SIDE
			]
			var material = new THREE.MeshFaceMaterial( cubeMaterials );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );

			var listener = new THREE.AudioListener();
			camera.add( listener );

			var sound = new THREE.Audio( listener );

			var audioLoader = new THREE.AudioLoader();
			audioLoader.load( 'audio/Ultralight-Beam.ogg', function( buffer ) {
				sound.setBuffer( buffer );
				sound.setLoop(true);
				sound.setVolume(0.5);
				sound.play();
			});

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			window.addEventListener( 'resize', function ( )
			{
				var width = window.innerWidth;
				var height = window.innerHeight;
				renderer.setSize( width, height );
				camera.aspect = width / height;
				camera.updateProjectionMatrix( );
			});

			controls = new THREE.OrbitControls( camera, renderer.domElement );

			var animate = function () {
				requestAnimationFrame( animate );

				cube.rotation.x += 0;
				cube.rotation.y += 0;

				renderer.render( scene, camera );
			};
			
			changeButtonText();
			animate();
		</script>
	</body>
</html>